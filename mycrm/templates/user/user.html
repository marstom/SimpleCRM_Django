{% extends 'base.html' %}

{% block header %}
    <script>
        $(document).ready(function () {
            $('table').DataTable({
                "pagingType": "full_numbers",
                "searching": false,
                "lengthMenu": [5, 10, 15, 25, 50],
                responsive: true
            });
        });
    </script>
{% endblock %}

{% block sidebar_content %}
    {% include 'user/_users_bar.html' %}
{% endblock %}


{% block content %}
    <!-- messages -->
    <div>
        {% for message in messages %}
            <div class="alert {{ message.tags }} alert-dismissible" role="alert">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                {{ message }}
            </div>
        {% endfor %}
    </div>


    <p class="lead">Registred users</p>

    <table cellspacing="1" class="table table-striped table-bordered" id="example">
        <thead class="thead-light">
        <tr>
            <th>id</th>
            <th>Login</th>
            <th>First name</th>
            <th>Last name</th>
            <th>e-mail</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ user }}</td>
                <td>{{ user.first_name }}</td>
                <td>{{ user.last_name }}</td>
                <td>{{ user.email }}</td>
                <td>
                    <a class="btn btn-primary" href="{% url 'mycrm:user_edit' user.pk %}" role="button"><i
                            class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                    <a class="btn btn-primary" href="{% url 'mycrm:user_delete' user.pk %}" role="button"><i
                            class="fa fa-trash" aria-hidden="true"></i></a>

                </td>
            </tr>
        {% endfor %}
        </tbody>


{% endblock %}